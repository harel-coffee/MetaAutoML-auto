@inject IStringLocalizer<Global> L
@using System
@inject IApiClient apiClient
@inject IViewNotifier viewNotifier

@code {
    [Parameter]
    public GetDatasetResponseDto Dataset { get; set; }
    [Parameter]
    public StartAutoMLRequestDto StartAutoMlRequest { get; set; }
    [Parameter]
    public EventCallback<StartAutoMLRequestDto> StartAutoMlRequestChanged { get; set; }

    async Task UpdateStartAutoMlRequest()
    {
        await StartAutoMlRequestChanged.InvokeAsync(StartAutoMlRequest);
    }
    protected override async void OnInitialized()
    {
        try
        {
            StartAutoMlRequest.DatasetIdentifier = Dataset.Identifier;
            StartAutoMlRequest.DatasetType = Dataset.Type.ID;
            await UpdateStartAutoMlRequest();
            StateHasChanged();
        }
        catch (Exception ex)
        {
            viewNotifier.Show(ex.GetBaseException().Message, ViewNotifierType.Error, L["Operation Failed"]);
        }
    }
}
